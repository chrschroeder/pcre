TOP=..
include $(TOP)/configure/CONFIG
LIBRARY = pcre
LIB_SRCS = $(notdir $(wildcard ../pcre_*.c))

INC += pcre.h

include $(TOP)/configure/RULES

#for pcre version 8 and higher: have to create pcre.h and define some variables
USR_CPPFLAGS += -DHAVE_MEMMOVE=1 -DNEWLINE=10 -DINT64_MAX="(0x7FFFFFFFFFFFLL)"
USR_CPPFLAGS += -DLINK_SIZE=2 -DMAX_NAME_COUNT=10000 -DMAX_NAME_SIZE=32
USR_CPPFLAGS += -DMATCH_LIMIT=10000000 -DMATCH_LIMIT_RECURSION=MATCH_LIMIT
USR_CPPFLAGS += -DPOSIX_MALLOC_THRESHOLD=10
USR_CPPFLAGS += -DHAVE_CONFIG_H

../O.Common/%.h: ../%.h.generic
	$(CP) $< $@
